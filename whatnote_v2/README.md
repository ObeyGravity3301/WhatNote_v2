# WhatNote V2

ç°ä»£åŒ–çš„æ¡Œé¢ç¬”è®°åº”ç”¨ï¼ŒåŸºäº React + Electron + FastAPI æ„å»ºã€‚æ”¯æŒå¤šåª’ä½“å†…å®¹ã€Markdown/LaTeX æ¸²æŸ“ã€æ‹–æ‹½ç¼–è¾‘ç­‰åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

#### Windows:
åŒå‡» `start.bat` æ–‡ä»¶ï¼Œæˆ–åœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š
```bash
start.bat
```

#### Linux/Mac:
```bash
./start.sh
```

#### è·¨å¹³å°:
```bash
python start.py
```

### æ‰‹åŠ¨å¯åŠ¨

#### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Node.js 16+
- npm

#### å®‰è£…ä¾èµ–
```bash
# åç«¯ä¾èµ–
pip install -r requirements.txt

# å‰ç«¯ä¾èµ–
cd frontend
npm install
```

#### å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨åç«¯ (ç«¯å£ 8081)
cd backend
python run.py

# å¯åŠ¨å‰ç«¯ (ç«¯å£ 3000)
cd frontend
npm start
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
whatnote_v2/
â”œâ”€â”€ backend/              # Python FastAPI åç«¯
â”‚   â”œâ”€â”€ config.py        # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ logger.py        # æ—¥å¿—å·¥å…·
â”‚   â”œâ”€â”€ main.py          # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ run.py           # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ static/          # é™æ€æ–‡ä»¶
â”‚   â””â”€â”€ storage/         # å­˜å‚¨æ¨¡å—
â”‚       â”œâ”€â”€ file_manager.py      # æ–‡ä»¶ç³»ç»Ÿç®¡ç†
â”‚       â””â”€â”€ content_manager.py   # å†…å®¹ç®¡ç†
â”œâ”€â”€ frontend/            # React + Electron å‰ç«¯
â”‚   â”œâ”€â”€ public/          # å…¬å…±èµ„æº
â”‚   â”œâ”€â”€ src/             # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/  # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.js       # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ index.js     # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ package.json     # å‰ç«¯ä¾èµ–
â”œâ”€â”€ whatnote_data/       # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â””â”€â”€ courses/         # è¯¾ç¨‹æ•°æ®
â”œâ”€â”€ docs/                # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ start.py             # è·¨å¹³å°å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.bat            # Windows å¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.sh             # Linux/Mac å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### âœ… å·²å®ç°åŠŸèƒ½

- **ğŸ“š è¯¾ç¨‹ç®¡ç†**: åˆ›å»ºã€åˆ é™¤è¯¾ç¨‹ï¼Œæ”¯æŒå±‚çº§ç»„ç»‡
- **ğŸ“‹ å±•æ¿ç³»ç»Ÿ**: æ¯ä¸ªè¯¾ç¨‹å¯åŒ…å«å¤šä¸ªå±•æ¿
- **ğŸªŸ çª—å£ç³»ç»Ÿ**: æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ã€PDF çª—å£
- **ğŸ“ Markdown æ”¯æŒ**: å®æ—¶æ¸²æŸ“ Markdown è¯­æ³•
- **ğŸ§® LaTeX æ”¯æŒ**: æ•°å­¦å…¬å¼æ¸²æŸ“ (KaTeX)
- **ğŸ“¤ æ–‡ä»¶ä¸Šä¼ **: æ‹–æ‹½ä¸Šä¼ å¤šåª’ä½“æ–‡ä»¶
- **ğŸ¨ æ‹–æ‹½ç¼–è¾‘**: å¯æ‹–æ‹½è°ƒæ•´çª—å£ä½ç½®
- **ğŸ”„ å®æ—¶åŒæ­¥**: WebSocket å®æ—¶é€šä¿¡
- **ğŸ’¾ æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨**: åŸºäºç›®å½•ç»“æ„çš„æ•°æ®æŒä¹…åŒ–
- **ğŸŒ Web API**: å®Œæ•´çš„ RESTful API

### ğŸ”§ æŠ€æœ¯ç‰¹æ€§

- **æ¨¡å—åŒ–æ¶æ„**: åç«¯å­˜å‚¨ç³»ç»Ÿå®Œå…¨æ¨¡å—åŒ–
- **å†…å®¹éš”ç¦»**: æ¯ä¸ªå±•æ¿ç‹¬ç«‹å­˜å‚¨ï¼Œé¿å…æ•°æ®æ±¡æŸ“
- **åˆ é™¤å³æ¶ˆå¤±**: åˆ é™¤å±•æ¿æ—¶è‡ªåŠ¨æ¸…ç†æ‰€æœ‰ç›¸å…³æ–‡ä»¶
- **æ— å…¨å±€ç¼“å­˜**: é¿å…æ•°æ®ä¸ä¸€è‡´é—®é¢˜
- **è·¨å¹³å°æ”¯æŒ**: Windowsã€Linuxã€Mac å…¨å¹³å°æ”¯æŒ
- **å¼€å‘çƒ­é‡è½½**: æ”¯æŒä»£ç ä¿®æ”¹å®æ—¶ç”Ÿæ•ˆ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Python 3.8+, FastAPI, Uvicorn, pathlib
- **å‰ç«¯**: React 18+, Electron 20+, react-router-dom
- **UIç»„ä»¶**: è‡ªå®šä¹‰ CSSï¼Œå“åº”å¼è®¾è®¡
- **æ¸²æŸ“å¼•æ“**: react-markdown, remark-gfm, rehype-katex
- **æ•°æ®å­˜å‚¨**: æ–‡ä»¶ç³»ç»Ÿ + JSON å…ƒæ•°æ®
- **é€šä¿¡åè®®**: HTTP REST API + WebSocket
- **å¼€å‘å·¥å…·**: VS Code, npm, pip

## ğŸ“Š API æ¥å£

### è¯¾ç¨‹ç®¡ç†
- `GET /api/courses` - è·å–è¯¾ç¨‹åˆ—è¡¨
- `POST /api/courses` - åˆ›å»ºè¯¾ç¨‹
- `GET /api/courses/{course_id}/boards` - è·å–å±•æ¿åˆ—è¡¨
- `POST /api/courses/{course_id}/boards` - åˆ›å»ºå±•æ¿

### å±•æ¿ç®¡ç†
- `GET /api/boards/{board_id}` - è·å–å±•æ¿ä¿¡æ¯
- `DELETE /api/boards/{board_id}` - åˆ é™¤å±•æ¿
- `GET /api/boards/{board_id}/windows` - è·å–çª—å£åˆ—è¡¨
- `POST /api/boards/{board_id}/windows` - åˆ›å»ºçª—å£
- `PUT /api/boards/{board_id}/windows/{window_id}` - æ›´æ–°çª—å£
- `DELETE /api/boards/{board_id}/windows/{window_id}` - åˆ é™¤çª—å£

### æ–‡ä»¶ç®¡ç†
- `POST /api/boards/{board_id}/upload` - æ–‡ä»¶ä¸Šä¼ 
- `GET /api/boards/{board_id}/files/serve` - æ–‡ä»¶æœåŠ¡

### å®æ—¶é€šä¿¡
- `WebSocket /ws/logs` - å®æ—¶æ—¥å¿—æ¨é€

## ğŸ® ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

1. **åˆ›å»ºè¯¾ç¨‹**: ç‚¹å‡»ä¾§è¾¹æ  "æ–°å»ºè¯¾ç¨‹" æŒ‰é’®
2. **åˆ›å»ºå±•æ¿**: é€‰æ‹©è¯¾ç¨‹åç‚¹å‡» "+ å±•æ¿" æŒ‰é’®
3. **æ·»åŠ å†…å®¹**: ç‚¹å‡»é¡¶éƒ¨å·¥å…·æ æ·»åŠ ä¸åŒç±»å‹çš„çª—å£
4. **ç¼–è¾‘å†…å®¹**: ç›´æ¥åœ¨çª—å£ä¸­ç¼–è¾‘æ–‡æœ¬æˆ–ä¸Šä¼ æ–‡ä»¶
5. **æ‹–æ‹½è°ƒæ•´**: æ‹–æ‹½çª—å£æ ‡é¢˜æ è°ƒæ•´ä½ç½®

### é«˜çº§åŠŸèƒ½

- **Markdown è¯­æ³•**: åœ¨æ–‡æœ¬çª—å£ä¸­ä½¿ç”¨æ ‡å‡† Markdown è¯­æ³•
- **LaTeX å…¬å¼**: ä½¿ç”¨ `$å…¬å¼$` æˆ– `$$å…¬å¼$$` æ¸²æŸ“æ•°å­¦å…¬å¼
- **å¿«æ·é”®**: `Ctrl+Shift+C` åˆ‡æ¢å¼€å‘è€…æ§åˆ¶å°

## ğŸ“– æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£ä½äº `docs/` ç›®å½•ï¼š

- [ç¬¬äºŒé˜¶æ®µå®ŒæˆæŠ¥å‘Š](docs/PHASE2_FINAL_REPORT.md)
- [ç¬¬ä¸‰é˜¶æ®µå®ŒæˆæŠ¥å‘Š](docs/PHASE3_COMPLETION_REPORT.md)
- [API ä½¿ç”¨æŒ‡å—](docs/USAGE_GUIDE.md)
- [é—®é¢˜è§£å†³æ–¹æ¡ˆ](docs/PROBLEM_SOLUTION_SUMMARY.md)

## ğŸ” æ•…éšœæ’é™¤

### ç«¯å£å†²çª
å¦‚æœé‡åˆ°ç«¯å£å ç”¨ï¼Œå¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨æ¸…ç†ã€‚ä¹Ÿå¯æ‰‹åŠ¨æ¸…ç†ï¼š
```bash
# Windows
netstat -ano | findstr :8081
taskkill /F /PID <PID>

# Linux/Mac
lsof -ti:8081 | xargs kill -9
```

### ä¾èµ–é—®é¢˜
```bash
# é‡æ–°å®‰è£…åç«¯ä¾èµ–
pip install -r requirements.txt --force-reinstall

# é‡æ–°å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
rm -rf node_modules package-lock.json
npm install
```

### æ•°æ®é‡ç½®
åˆ é™¤ `whatnote_data/` ç›®å½•å¯å®Œå…¨é‡ç½®æ‰€æœ‰æ•°æ®ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

---

**WhatNote V2** - è®©ç¬”è®°æ›´ç®€å•ï¼Œè®©æ€ç»´æ›´è‡ªç”± âœ¨